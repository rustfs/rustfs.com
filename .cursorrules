# RustFS.com Project Development Guidelines

## ğŸ“‹ Project Overview

RustFS.com is a modern distributed storage system website built with Next.js, using TypeScript + Tailwind CSS technology stack, supporting dark mode and responsive design.

## ğŸ¯ Core Development Principles

### Five Execution Steps

#### 1. Task Analysis and Planning
- **Clear Objectives**: Deeply understand task requirements and expected results before starting coding
- **Plan Development**: List specific files, components, and functions that need modification, explaining the reasons for changes
- **Risk Assessment**: Evaluate the impact of changes on existing functionality, develop rollback plans

#### 2. Precise Code Location
- **File Identification**: Determine specific files and line numbers that need modification
- **Impact Analysis**: Avoid modifying irrelevant files, clearly state the reason for each file modification
- **Minimization Principle**: Unless explicitly required by the task, do not create new abstraction layers or refactor existing code

#### 3. Minimal Code Changes
- **Focus on Core**: Only write code directly required by the task
- **Avoid Redundancy**: Do not add unnecessary logs, comments, tests, or error handling
- **Isolation**: Ensure new code does not interfere with existing functionality, maintain code independence

#### 4. Strict Code Review
- **Correctness Check**: Verify the correctness and completeness of code logic
- **Style Consistency**: Ensure code conforms to established project coding style
- **Side Effect Assessment**: Evaluate the impact of changes on downstream systems

#### 5. Clear Delivery Documentation
- **Change Summary**: Detailed explanation of all modifications and reasons
- **File List**: List all modified files and their specific changes
- **Risk Statement**: Mark any assumptions or potential risk points

### Core Principles
- **ğŸ¯ Precise Execution**: Strictly follow task requirements, no arbitrary innovation
- **âš¡ Efficient Development**: Avoid over-design, only do necessary work
- **ğŸ›¡ï¸ Safe and Reliable**: Always follow development processes, ensure code quality and system stability
- **ğŸ”’ Cautious Modification**: Only modify when clearly knowing what needs to be changed and having confidence

---

## ğŸ› ï¸ Technology Stack Standards

### Core Technologies
- **Framework**: Next.js 15.3.4 (App Router)
- **Language**: TypeScript (ES2017+, strict mode)
- **Styling**: Tailwind CSS 4 + shadcn/ui
- **Icons**: Lucide React
- **Theme**: next-themes (dark mode support)
- **Animation**: motion + tw-animate-css
- **Internationalization**: Chinese primary (lang="zh-CN")

### Project Directory Structure
```
rustfs.com/
â”œâ”€â”€ app/                    # Next.js App Router directory
â”‚   â”œâ”€â”€ components/         # Page-level components
â”‚   â”‚   â”œâ”€â”€ buttons/       # Button component collection
â”‚   â”‚   â””â”€â”€ *.tsx         # Functional components
â”‚   â”œâ”€â”€ download/          # Download page
â”‚   â”œâ”€â”€ layout.tsx         # Root layout
â”‚   â”œâ”€â”€ page.tsx          # Home page
â”‚   â””â”€â”€ globals.css       # Global styles
â”œâ”€â”€ components/            # Common component library
â”‚   â”œâ”€â”€ ui/               # shadcn/ui components
â”‚   â””â”€â”€ magicui/         # Custom UI components
â”œâ”€â”€ data/                 # Static data
â”‚   â”œâ”€â”€ reviews.json      # User reviews
â”‚   â””â”€â”€ *.json           # Other configuration data
â”œâ”€â”€ lib/                  # Utility functions
â”‚   â””â”€â”€ utils.ts         # Tailwind merge and other utilities
â””â”€â”€ public/              # Static resources
    â”œâ”€â”€ images/          # Image resources
    â””â”€â”€ svgs/           # SVG icons
```

---

## ğŸ“ Coding Standards

### TypeScript Standards
- **Strict Mode**: Enable `"strict": true` configuration
- **Syntax Version**: Prioritize ES2017+ syntax features
- **Component Definition**: Use arrow functions or `export default function`
- **Type Import**: Use `import type { }` syntax

### React Component Standards

#### Standard Component Structure
```typescript
'use client' // Client components must be marked

import { ComponentProps } from 'react'
import { cn } from '@/lib/utils'

interface ComponentNameProps {
  className?: string
  children?: React.ReactNode
}

export default function ComponentName({
  className,
  children,
  ...props
}: ComponentNameProps) {
  return (
    <div className={cn("default-classes", className)}>
      {children}
    </div>
  )
}
```

#### Import Order Standards
```typescript
// 1. React related
import React from 'react'
import { useState, useEffect } from 'react'

// 2. Next.js related
import Link from 'next/link'
import Image from 'next/image'

// 3. Third-party libraries
import { motion } from 'motion'
import { ChevronDownIcon } from 'lucide-react'

// 4. Internal components and utilities
import { cn } from '@/lib/utils'
import { Button } from '@/components/ui/button'

// 5. Type definitions
import type { ComponentProps } from 'react'
```

### Tailwind CSS Standards

#### Style Writing Conventions
```typescript
// âœ… Recommended style writing
className={cn(
  "base-classes",
  "responsive sm:class md:class lg:class",
  "dark:class dark:hover:class",
  conditionalClass && "conditional-class",
  className // Allow external override
)}
```

#### Responsive Design
- **Breakpoints**: `sm:` (640px) `md:` (768px) `lg:` (1024px) `xl:` (1280px)
- **Dark Mode**: Use `dark:` prefix
- **Theme Colors**: Use semantic colors `primary` `secondary` `muted-foreground`

### File Naming Standards
- **Component Files**: `kebab-case.tsx` (e.g., `app-header.tsx`)
- **Data Files**: `kebab-case.json` or `.tsx`
- **Utility Functions**: `camelCase.ts`
- **Page Files**: Follow Next.js App Router conventions

### Git Commit Standards
- **Commit Standard**: Must use [Conventional Commits](https://www.conventionalcommits.org/) specification
- **Language Requirement**: Commit messages must be written in English
- **Format Requirement**: `<type>[optional scope]: <description>`
- **Type Description**:
  - `feat`: New features
  - `fix`: Bug fixes
  - `docs`: Documentation updates
  - `style`: Code format adjustments (no functional impact)
  - `refactor`: Code refactoring
  - `perf`: Performance optimizations
  - `test`: Testing related
  - `chore`: Build process or auxiliary tool changes
- **Examples**:
  ```bash
  feat: add user login functionality
  fix(auth): resolve login validation failure issue
  docs: update API documentation
  refactor(components): restructure button component
  ```

---

## ğŸ¨ Content and Brand Standards

### Language and Terminology
- **Interface Language**: All user interface text uses Chinese
- **Brand Name**: Consistently use "RustFS" (first letter capitalized)
- **Documentation Links**: Consistently point to `https://docs.rustfs.com`
- **Brand Image**: Maintain professional image of distributed storage system

### ğŸŒ Internationalization Development Standards

#### Namespace + English Original as Key Structure
```typescript
// âœ… Recommended internationalization approach
const t = useTranslations('nav');  // Specify namespace
t('Features')                      // Use English original as Key
t('Architecture')
t('Get Started')

// âŒ Avoid this approach
const t = useTranslations();
t('nav.Features')                 // No need for namespace prefix
t('nav.Architecture')
t('nav.Get Started')
```

#### Localization File Organization Principles
- **English Version**: key = English original, display English directly
- **Chinese Version**: key = English original, value = Chinese translation
- **Namespace**: Organize by functional modules (`nav`, `buttons`, `hero`, `download`)
- **Key Format**: Use English original as Key, maintain readability and intuitiveness

#### Namespace Organization Suggestions
```typescript
// Organize by functional modules, each component uses corresponding namespace
const navT = useTranslations('nav');
navT('Features')                  // Navigation features
navT('Architecture')              // Navigation architecture

const btnT = useTranslations('buttons');
btnT('Get Started')               // Button get started

const heroT = useTranslations('hero');
heroT('High Performance')         // Hero section high performance

const downloadT = useTranslations('download');
downloadT('Choose Platform')      // Download choose platform
```

#### Internationalization Development Advantages
- **More Intuitive Code**: English original as Key, clear at a glance
- **Easier Maintenance**: Developers can directly see the text content to be displayed
- **Clearer Architecture**: Namespace organized by functional modules
- **More Efficient Development**: Reduce memory burden, improve development efficiency
- **Better Compatibility**: Support limitations of internationalization frameworks like next-intl
- **More Accurate Translation**: English original as Key ensures translation accuracy
- **Type Safety**: Specifying namespace provides better type inference

#### Localization File Examples
```json
// locales/en.json
{
  "nav": {
    "Features": "Features",
    "Architecture": "Architecture",
    "Solutions": "Solutions"
  },
  "buttons": {
    "Get Started": "Get Started",
    "Download": "Download",
    "View Demo": "View Demo"
  }
}

// locales/zh.json
{
  "nav": {
    "Features": "åŠŸèƒ½",
    "Architecture": "æ¶æ„",
    "Solutions": "æ–¹æ¡ˆ"
  },
  "buttons": {
    "Get Started": "å¼€å§‹ä½¿ç”¨",
    "Download": "ä¸‹è½½",
    "View Demo": "æŸ¥çœ‹æ¼”ç¤º"
  }
}
```

### Performance Optimization Requirements
- **Image Optimization**: Use Next.js `Image` component
- **Server-Side Rendering**: Prioritize SSR, minimize client components
- **Lazy Loading**: Implement lazy loading for large components and data
- **Re-render Optimization**: Avoid unnecessary component re-renders

---

## âš ï¸ Prohibited Items

### ğŸš¨ Absolutely Forbidden - Style and Structure Protection

**Under no circumstances, unless explicitly specified, is it absolutely not allowed to modify styles and structures!**

#### Strictly Forbidden Style Changes
- âŒ Modify existing CSS class names
- âŒ Change layout structure (grid, flex, position, etc.)
- âŒ Modify colors, fonts, spacing, and other visual properties
- âŒ Change responsive breakpoints or media queries
- âŒ Modify dark mode styles

#### Strictly Forbidden Structure Changes
- âŒ Simplify complex component designs
- âŒ Remove visual elements or decorations
- âŒ Replace custom components with basic UI components
- âŒ Change component nesting levels
- âŒ Remove animations, transition effects
- âŒ Change hover, click, and other interaction behaviors

#### Strictly Forbidden Functional Changes
- âŒ Remove existing functionality
- âŒ Simplify complex business logic
- âŒ Change data flow or state management
- âŒ Remove error handling or edge cases

### Strictly Forbidden
- âŒ Modify `components.json` shadcn/ui configuration file
- âŒ Hardcode data in components, must use `data/` directory
- âŒ Destroy existing dark mode support
- âŒ Use inline styles, uniformly use Tailwind CSS
- âŒ Ignore TypeScript type errors
- âŒ Modify existing API interfaces and configuration structures
- âŒ Use ID format internationalization key names, such as `t('features')`
- âŒ Mix different namespace translation keys in components
- âŒ Hardcode Chinese/English text, must use internationalization system
- âŒ Use spaces, periods, and other special characters in translation keys
- âŒ Use `useTranslations()` without specifying namespace
- âŒ Use commit messages that don't conform to Conventional Commits specification
- âŒ Use Chinese or other non-English languages to write Git commit messages

### Development Notes
- âŒ Don't make "convenient" additional modifications
- âŒ Don't add unnecessary logs or comments
- âŒ Don't create abstraction layers outside the task scope
- âŒ **Don't modify existing code unless you clearly know what needs to be modified**
- âœ… **Only modify existing code when you clearly know what needs to be changed and have confidence**

---

## ğŸ“‹ Quality Checklist

### Pre-Code Change Checks
1. âœ… **Task Understanding**: Clearly understand task objectives and scope
2. âœ… **Plan Development**: Develop clear modification plan
3. âœ… **Technical Standards**: Code conforms to project technical standards
4. âœ… **Coding Style**: Follow component and style conventions
5. âœ… **Function Protection**: Won't destroy existing functionality
6. âœ… **Type Safety**: Pass TypeScript type checking
7. âœ… **Responsive Compatibility**: Responsive layout and dark mode compatibility
8. âœ… **Content Correctness**: Chinese content displays correctly
9. âœ… **Modification Necessity**: Clearly know what needs to be modified and have confidence
10. âœ… **Internationalization Standards**: Use namespace + English original as Key structure
11. âœ… **Translation Completeness**: Chinese and English translation keys completely correspond
12. âœ… **Namespace Consistency**: Same component uses unified namespace
13. âœ… **Key Format Correctness**: Use English original as Key, maintain readability
14. âœ… **Style Protection**: Haven't modified any existing CSS class names
15. âœ… **Structure Protection**: Haven't changed any layout structure or component design
16. âœ… **Interaction Protection**: Haven't removed or modified any animations, transitions, or interaction behaviors
17. âœ… **Function Protection**: Haven't simplified or removed any existing functionality
18. âœ… **Internationalization Calls**: Use `useTranslations('namespace')` to specify namespace

### Pre-Submission Verification
- âœ… All modified files are listed
- âœ… Dark mode functionality is normal
- âœ… Responsive layout has no abnormalities
- âœ… Chinese content displays correctly
- âœ… No TypeScript errors
- âœ… No console warnings
- âœ… Commit messages conform to Conventional Commits specification
- âœ… Commit messages are written in English

---

## ğŸ¯ Core Requirements

**Precise, Efficient, No Complexity Introduction, Absolute Protection of Styles and Structures** - This is our development guideline.

Every code change should:
- ğŸ¯ **Precise**: Only modify code required by the task
- âš¡ **Efficient**: Avoid unnecessary complexity
- ğŸ›¡ï¸ **Safe**: Ensure system stability and code quality
- ğŸ”’ **Cautious**: Only modify when clearly knowing what needs to be changed and having confidence
- ğŸš¨ **Style Protection**: Absolutely not allowed to modify any existing styles and structures
- ğŸ¨ **Design Protection**: Maintain all existing beautiful designs and complex functionality

---

*Last Updated: December 2024*
